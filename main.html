<!DOCTYPE html>
<html>
<head>
    <!-- A simple HTML file to hold the structure of the content -->
    <meta charset="UTF-8">
    <title>Simple Data Template</title>
    <link rel="stylesheet" href="./lib/bootstrap.css">
    <link rel="stylesheet" href="./css/the.css">
    <!-- To avoid favicon error -->
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>
    <div class="tab">
        <div class="container-fluid">
            <div class="row">
                <button class="col-sm-1 btn btn-light btn-sm tablinks" id="build_tab" onclick="show_tab(event, 'build', this)">build</button>
                <button class="col-sm-1 btn btn-light btn-sm tablinks" id="items_tab" onclick="show_tab(event, 'items', this)">items</button>
                <button class="col-sm-1 btn btn-light btn-sm tablinks" id="protocol_tab" onclick="show_tab(event, 'protocol', this)">Protocol</button>
                <button class="col-sm-1 btn btn-light btn-sm tablinks" id="design_tab" onclick="show_tab(event, 'design', this)">Design</button>
                <button class="col-sm-1 btn btn-light btn-sm tablinks" id="form_tab" onclick="show_tab(event, 'form', this)">Forms</button>
                <button class="col-sm-1 btn btn-light btn-sm tablinks" id="json_tab" onclick="show_tab(event, 'json', this)">json</button>
                <button class="col-sm-1 btn btn-light btn-sm tablinks" id="other_tab" onclick="show_tab(event, 'other', this)">Other</button>
                <button class="col-sm-1 btn  btn-sm" id="annotation-button" data-displayed="none" onclick="toggle_annotation(this)">Annotations</button>
            </div>
        </div>
    </div>

    <!-- Tab: json ---------------------------------------------------------- -->
    <div class="tabcontent" id="protocol">
        <div class="container row border overflow-auto">
            <div class="col-10 border">
                <h1>A Clinical Investigation Evaluating Efficacy of Perfect DrugÂ® everywhere</h1>
                <h5>Primary Investigator: Jane Doe</h5>
                 <h5>Study title: STUDY001</h5>
                <h5>Study ID: CDISCPILOT01</h5>
                <h5>6.3 Trial Objectives and Purpose</h5>
                <p>The purpose of this trial is to collect safety and efficacy assessments.</p>
                <h5>6.4 Trial Design</h5>
                <h3 >6.7 Assessment of Efficacy</h3>
                    <p>Efficacy in this study was assessed using:</p>
                    <table id="efficacy"></table>
                    <button class="col btn btn-primary btn-sm" onclick="show_modal_with_action('efficacy','efficacy','')">Add</button>
                <h3>6.8 Assessment of Safety</h3>
                    <table id="safety"></table>
            </div>
        </div>
    </div>

    <!-- Tab: build ---------------------------------------------------------- -->
    <div class="tabcontent" id="build">
        <div class="container row border overflow-auto">
            <div class="row border overflow-auto">
                <div class="col-sm-3 border overflow-auto"><b>Build from template</b></div>
                <div class="col border overflow-auto"><b>Options</b></div>
            </div>
            <div class="row border overflow-auto">
                <div class="col-sm-3 border overflow-auto" id="build_new_item">
                    <button class="btn btn-primary" id="" onclick="create_findings_item(event, 'build')">Finding</button>
                </div>
                <div class="col border overflow-auto" id="new_item_view"></div>
            </div>
        </div>
    </div>

    <!-- Tab: items ---------------------------------------------------------- -->
    <div class="tabcontent" id="items">
        <!-- tab -->
        <!--
            <div class="container border overflow-auto" id="items_header">Header</div>
        -->
        <div class="container row border overflow-auto">
            <div class="row border overflow-auto">
                <div class="col-sm-3 border overflow-auto"><b>Items</b></div>
                <div class="col border overflow-auto"><b>View</b></div>
            </div>
            <div class="row border overflow-auto">
                <div class="col-sm-3 border overflow-auto" id="item_list">list</div>
                <div class="col border overflow-auto" id="item_view"></div>
            </div>
            <!-- <div class="row border"> -->
            <div class="row border align-items-start">
                <div class="col-sm-2 border overflow-auto" id="item_name"></div>
                <div class="col-sm-9 border overflow-auto">
                    <textarea id="item_json_view" style="font-size: 10pt" rows=20 cols=100>Empty</textarea>
                </div>
                <button class="col btn btn-primary btn-sm" id="save_dt" onclick="save_dt_to_localstorage()">Save</button>
            </div>
        </div>
        <!-- 
            <div class="container border overflow-auto" id="items_footer">Footer</div>
         -->
    </div>

    <!-- Tab: form -------------->
    <div class="tabcontent" id="form">
        <!-- tab -->
        <div class="container border overflow-auto" id="form_header">
            <div class="row">
                <div class="col-1">Form</div>
                <div class="col-2">
                    <select name="" id="select_form"></select>
                </div>
                <div class="col-2">
                    <button class="btn col btn-primary btn-sm" onclick="render_form()">Render</button>
                    <button class="btn col btn-primary btn-sm" onclick="toggle_view(form_content)">Hide</button>
                </div>
            </div>
        </div>
        <div class="container border overflow-auto" id="form_content">
            <div class="row">
                <div class="col-9">
                    <div class="container border overflow-auto" id="form_view">View</div>
                </div>
                <div class="col">
                    <textarea id="form_json_view" style="font-size: 10pt" cols=30>Empty</textarea>
                </div>
            </div>
        </div>
        <div class="container border overflow-auto" id="example_view">
            <span class="col-1">Collected view</span>
            <button class="btn btn-primary btn-sm" onclick="save_form_to_localstorage()">Save Collected</button>
            <button class="btn col btn-light btn-sm" onclick="toggle_view(example_data)">Hide</button>
        </div>
        <div class="container border overflow-auto" id="example_data">Data</div>
        <div class="container border overflow-auto" id="example_json">
            <span class="col-1">References resolved</span>
            <button class="btn btn-primary btn-sm" onclick="resolve_form_references()">Resolve</button>
            <button class="btn col btn-light btn-sm" onclick="toggle_view(template_data_view)">Hide</button>
        </div>
        <div class="container border overflow-auto" id="template_container">
            <textarea id="template_data_view" style="font-size: 10pt" rows=10 cols=100>Empty</textarea>
        </div>
        <div class="container border overflow-auto" id="sdtm_container">
            <span class="col-1">SDTM view</span>
            <button class="btn btn-primary btn-sm" onclick="render_sdtm()">Make SDTM</button>
            <button class="btn col btn-light btn-sm" onclick="toggle_view(sdtm_data_view)">Hide</button>
        </div>
        <div class="container border overflow-auto" id="sdtm_data_view">Data</div>
        <div class="container border overflow-auto">---</div>
    </div>

    <!-- Tab: design -------------->
    <div class="tabcontent" id="design">
        <!-- tab -->
        <div class="container border overflow-auto" id="design_header">
            <div class="row">
                <div class="col-1">Design</div>
            </div>
        </div>
        <div class="container border overflow-auto" id="design_buttons">
            <button class="btn btn-primary btn-sm" onclick="add_timepoint()">Add timepoint</button>
            <!-- <div class="container border overflow-auto" id="design_view">Timepoints</div> -->
        </div>
        <div class="container border overflow-auto">
            <div class="container border overflow-auto" id="timepoint_view">Timepoints</div>
        </div>
        <div class="container border overflow-auto">
            <span class="col-1">Design view</span>
        </div>
        <div class="container border overflow-auto" id="example_data">Data</div>
    </div>


    <!-- ---------------------------------------------------------- -->
    <!-- Tab: json -->
    <div class="tabcontent" id="json">
        <!-- tab -->
        <select id="select_json_file">
            <option value="items">Items</option>
            <option value="terms">Terms</option>
            <option value="templates">Templates</option>
            <option value="forms">Forms</option>
            <option value="protocol">Protocol</option>
        </select>
        <button class="btn btn-primary btn-sm" onclick="save_json_to_localstorage()">Save</button>
        <button class="btn btn-primary btn-sm" onclick="ask_reset_to_default_json()">Reset json files</button>
        <button class="btn btn-primary btn-sm" onclick="remove_local_storage()">Remove localStorage</button>
        <div id="list_content">
            <textarea id="json_txt" rows=40 cols=200>none</textarea>
        </div>
    </div>

    <!-- ---------------------------------------------------------- -->
    <!-- Tab: other -->
    
    <div class="tabcontent" id="other">
        <div class="container border">
            <button class="btn btn-primary btn-sm" onclick="compareJsons()">Compare json</button>
            <select id="select_json_compare">
                <option value="items">Items</option>
                <option value="forms">Forms</option>
                <option value="terms">Terms</option>
                <option value="templates">Templates</option>
                <option value="protocol">Protocol</option>
             </select>
        </div>
        <div class="container border overflow-auto" id="json_compare"></div>
    </div>
     
    <!-- The Modal -->
    <div id="myModal" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modal_content"></div>
        </div>
    </div>
    <p> </p>
    <p> </p>
    <p> </p>
    <p> </p>
    <p> </p>

</body>
<!-- <script src="./lib/require-2-3-6.js"></script> -->
<script src="./js/default_json_files.js"></script>
<script src="./js/sdtm_metadata.js"></script>
<script src="./js/utility.js"></script>
<script src="./js/constants.js"></script>
<script src="./js/to_html.js"></script>
<script src="./js/the_rest.js"></script>
<script src="./js/render_form.js"></script>
<script src="./js/render_sdtm.js"></script>
<script src="./js/items.js"></script>
<script src="./js/create_items.js"></script>
<script src="./js/design.js"></script>
<script src="./js/save_form.js"></script>
<script src="./lib/bootstrap.bundle.js"></script>
<script src="./js/compare_json.js"></script>
</html>